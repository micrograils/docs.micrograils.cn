<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script src="/cdn-cgi/apps/head/3cOPSgo5Omz84ycX7CvigfX4cpw.js"></script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-82213539-2"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-82213539-2');
    </script>
    <title>12 &#39564;&#35777; 4.0.0</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen, print" title="Style" charset="utf-8"/>
    <link rel="stylesheet" href="../css/pdf.css" type="text/css" media="print" title="PDF" charset="utf-8"/>
    <script type="text/javascript">
function addJsClass() {
    var classes = document.body.className.split(" ");
    classes.push("js");
    document.body.className = classes.join(" ");
}
    </script>
</head>

<body class="body" onload="addJsClass();">
<div id="navigation">
    <div class="navTitle">
        
        The Grails Framework
    </div>
    <div class="navLinks">
        <ul>
            <li>
                <div id="nav-summary" onmouseover="toggleNavSummary(false)" onmouseout="toggleNavSummary(true)">
                    <a href="../guide/index.html" class="button">Table of contents</a>

                    <div id="nav-summary-childs" style="display:none;">
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/introduction.html"><strong>1</strong><span>&#31616;&#20171;</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/gettingStarted.html"><strong>2</strong><span>&#20837;&#38376;</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/upgrading.html"><strong>3</strong><span>&#20174; Grails 3.3.x &#21319;&#32423;</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/conf.html"><strong>4</strong><span>&#37197;&#32622;</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/commandLine.html"><strong>5</strong><span>&#21629;&#20196;&#34892;</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/profiles.html"><strong>6</strong><span>&#24212;&#29992;&#31243;&#24207;&#37197;&#32622;&#25991;&#20214;</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/GORM.html"><strong>7</strong><span>&#23545;&#35937;&#20851;&#31995;&#26144;&#23556; &#65288;GORM&#65289;</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/theWebLayer.html"><strong>8</strong><span>Web &#23618;</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/traits.html"><strong>9</strong><span>&#29305;&#24449;&#65288;Trait&#65289;</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/REST.html"><strong>10</strong><span>REST</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/async.html"><strong>11</strong><span>&#24322;&#27493;&#32534;&#31243;</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/validation.html"><strong>12</strong><span>&#39564;&#35777;</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/services.html"><strong>13</strong><span>&#26381;&#21153;&#23618;</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/staticTypeCheckingAndCompilation.html"><strong>14</strong><span>&#38745;&#24577;&#31867;&#22411;&#26816;&#26597;&#21644;&#32534;&#35793;</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/testing.html"><strong>15</strong><span>&#27979;&#35797;</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/i18n.html"><strong>16</strong><span>&#22269;&#38469;&#21270;</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/security.html"><strong>17</strong><span>&#23433;&#20840;&#24615;</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/plugins.html"><strong>18</strong><span>&#25554;&#20214;</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/spring.html"><strong>19</strong><span>Grails &#19982; Spring</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/scaffolding.html"><strong>20</strong><span>&#33050;&#25163;&#26550;</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/deployment.html"><strong>21</strong><span>&#37096;&#32626;</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/contributing.html"><strong>22</strong><span>&#32473; Grails &#36129;&#29486;&#20195;&#30721;</span></a>
                        </div>
                        
                    </div>
                </div>
            </li>
            <li class="separator selected">
                <a id="ref-button" onclick="localToggle(); return false;" href="#">Quick Reference</a>
            </li>
        </ul>
    </div>


</div>

<table id="colset" border="0" cellpadding="0" cellspacing="0">
    <tr>
        <td id="col1">
            <div id="main" class="corner-all">

                
                    <div class="toc-item prev-left"><a href="../guide/async.html">&lt;&lt; <strong>11</strong><span>&#24322;&#27493;&#32534;&#31243;</span></a></div>
                

                <span id='toggle-col1' class="toggle">(<a href="#" onclick="localToggle(); return false;">Quick Reference</a>)</span>

                
                    <div class="toc-item next-right"><a href="../guide/services.html"><strong>13</strong><span>&#26381;&#21153;&#23618;</span> >></a></div>
                


                <div class="project">
                    <h1>12 &#39564;&#35777;</h1>

                    <p><strong>Version:</strong> 4.0.0</p>
                </div>

                
                <div id="table-of-content">
                    <h2>Table of Contents</h2>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#constraints"><strong>12.1</strong><span>&#22768;&#26126;&#32422;&#26463;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#validatingConstraints"><strong>12.2</strong><span>&#39564;&#35777;&#32422;&#26463;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#sharingConstraints"><strong>12.3</strong><span>&#31867;&#20043;&#38388;&#30340;&#20849;&#20139;&#32422;&#26463;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#validationOnTheClient"><strong>12.4</strong><span>&#23545;&#23458;&#25143;&#31471;&#30340;&#39564;&#35777;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#validationAndInternationalization"><strong>12.5</strong><span>&#39564;&#35777;&#21644;&#22269;&#38469;&#21270;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#validationNonDomainAndCommandObjectClasses"><strong>12.6</strong><span>&#23558;&#39564;&#35777;&#24212;&#29992;&#20110;&#20854;&#20182;&#31867;</span></a>
                    </div>
                    
                </div>
                

                
<a name="10. &#39564;&#35777;"><!-- Legacy link --></a>
<h1 id="validation">12 验证</h1>

<div class='contribute-btn'>
    <button type='button' class='btn btn-default' onclick='window.location.href="https://github.com/grails/grails-doc/edit/master/src/en/guide/validation.adoc"'>
        <i class='fa fa-pencil-square-o'></i> Improve this doc
    </button>
</div>


<div class="paragraph">
<p>Grails验证功能基于<a href="https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/validation/package-summary.html">Spring’s Validator API</a> 和数据绑定功能构建。 但是Grails对此进行了进一步的介绍，并提供了一种统一的方法来定义带有其约束机制的验证 "constraints" 。</p>
</div>
<div class="paragraph">
<p>Grails中的约束是一种以声明方式指定验证规则的方法。最常见的是将它们应用于 <a href="GORM.html">domain classes</a> , 然而 <a href="theWebLayer.html#urlmappings">URL Mappings</a>和 <a href="theWebLayer.html#commandObjects">Command Objects</a> 也支持约束。</p>
</div>

<a name="10.1 &#22768;&#26126;&#32422;&#26463;"><!-- Legacy link --></a>
<h2 id="constraints">12.1 声明约束</h2>

<div class='contribute-btn'>
    <button type='button' class='btn btn-default' onclick='window.location.href="https://github.com/grails/grails-doc/edit/master/src/en/guide/validation/constraints.adoc"'>
        <i class='fa fa-pencil-square-o'></i> Improve this doc
    </button>
</div>


<div class="paragraph">
<p>在域类中 <a href="../ref/Domain%20Classes/constraints.html">constraints</a> 使用为代码块分配的constraints属性定义：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="type">class</span> <span class="class">User</span> {
    <span class="predefined-type">String</span> login
    <span class="predefined-type">String</span> password
    <span class="predefined-type">String</span> email
    <span class="predefined-type">Integer</span> age

    <span class="directive">static</span> constraints = {
      ...
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>然后，您可以使用与要应用约束的属性名称相匹配的方法调用，并结合命名参数来指定约束：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="type">class</span> <span class="class">User</span> {
    ...

    static constraints = {
        login <span class="key">size</span>: <span class="integer">5</span>..<span class="integer">15</span>, <span class="key">blank</span>: <span class="predefined-constant">false</span>, <span class="key">unique</span>: <span class="predefined-constant">true</span>
        password <span class="key">size</span>: <span class="integer">5</span>..<span class="integer">15</span>, <span class="key">blank</span>: <span class="predefined-constant">false</span>
        email <span class="key">email</span>: <span class="predefined-constant">true</span>, <span class="key">blank</span>: <span class="predefined-constant">false</span>
        age <span class="key">min</span>: <span class="integer">18</span>
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>在此示例中，我们声明了 <code>login</code> 属性的长度必须在5到15个字符之间，不能为空，并且必须是唯一的。 我们还对 <code>password</code>, <code>email</code> 和 <code>age</code> 属性应用了其他约束。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
默认情况下，所有域类属性都不为空（即，它们具有隐式的 <code>nullable：false</code> 约束）。
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>有关可用约束的完整参考，请参见约束标题下的快速参考部分。</p>
</div>
<div class="paragraph">
<p>请注意，约束仅评估一次，这可能与依赖于像 <code>java.util.Date</code> 实例的值的约束有关。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="type">class</span> <span class="class">User</span> {
    ...

    static constraints = {
        <span class="comment">// this Date object is created when the constraints are evaluated, not</span>
        <span class="comment">// each time an instance of the User class is validated.</span>
        birthDate <span class="key">max</span>: <span class="keyword">new</span> <span class="predefined-type">Date</span>()
    }
}</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="_一句警告_从约束中引用域类属性">一句警告-从约束中引用域类属性</h3>
<div class="paragraph">
<p>尝试从静态约束块中引用实例变量非常容易，但这在Groovy（或Java）中是不合法的。 如果这样做，您将因遇到麻烦而得到 <code>MissingPropertyException</code>。 例如，您可以尝试</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="type">class</span> <span class="class">Response</span> {
    Survey survey
    Answer answer

    <span class="directive">static</span> constraints = {
        survey <span class="key">blank</span>: <span class="predefined-constant">false</span>
        answer <span class="key">blank</span>: <span class="predefined-constant">false</span>, <span class="key">inList</span>: survey.answers
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>看看 <code>inList</code> 约束如何引用实例属性 <code>survey</code> ？ 那行不通。 而是使用自定义 <a href="../ref/Constraints/validator.html">validator</a>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="type">class</span> <span class="class">Response</span> {
    ...
    static constraints = {
        survey <span class="key">blank</span>: <span class="predefined-constant">false</span>
        answer <span class="key">blank</span>: <span class="predefined-constant">false</span>, <span class="key">validator</span>: { val, obj -&gt; val <span class="keyword">in</span> obj.survey.answers }
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>在此示例中，自定义验证器的 <code>obj</code> 参数是正在验证的域实例，因此我们可以访问其 <code>Survey</code> 属性并返回一个布尔值以指示 <code>answer</code> 属性的新值 <code>val</code> 是否有效</p>
</div>
</div>

<a name="10.2 &#39564;&#35777;&#32422;&#26463;"><!-- Legacy link --></a>
<h2 id="validatingConstraints">12.2 验证约束</h2>

<div class='contribute-btn'>
    <button type='button' class='btn btn-default' onclick='window.location.href="https://github.com/grails/grails-doc/edit/master/src/en/guide/validation/validatingConstraints.adoc"'>
        <i class='fa fa-pencil-square-o'></i> Improve this doc
    </button>
</div>


<div class="sect3">
<h4 id="_验证基础">验证基础</h4>
<div class="paragraph">
<p>调用链接 <a href="../ref/Domain%20Classes/validate.html">validate</a> 方法以验证域类实例：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="keyword">def</span> user = <span class="keyword">new</span> User(params)

<span class="keyword">if</span> (user.validate()) {
    <span class="comment">// do something with user</span>
}
<span class="keyword">else</span> {
    user.errors.allErrors.each {
        println <span class="local-variable">it</span>
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>域类的 <code>errors</code> 属性是Spring <a href="https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/validation/Errors.html">Errors</a> 接口的实例。 <code>Errors</code> 界面提供了导航验证错误并检索原始值的方法。</p>
</div>
</div>
<div class="sect3">
<h4 id="_验证阶段">验证阶段</h4>
<div class="paragraph">
<p>在Grails中，验证分为两个阶段，第一个阶段是 <a href="theWebLayer.html#dataBinding">data binding</a>，该阶段是在将请求参数绑定到实例上时发生的，例如：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="keyword">def</span> user = <span class="keyword">new</span> User(params)</code></pre>
</div>
</div>
<div class="paragraph">
<p>此时，由于类型转换（例如将字符串转换为日期），您的 <code>error</code> 属性可能已经有错误。 您可以使用 <code>Errors</code> API进行检查并获取原始输入值：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="keyword">if</span> (user.hasErrors()) {
    <span class="keyword">if</span> (user.errors.hasFieldErrors(<span class="string"><span class="delimiter">&quot;</span><span class="content">login</span><span class="delimiter">&quot;</span></span>)) {
        println user.errors.getFieldError(<span class="string"><span class="delimiter">&quot;</span><span class="content">login</span><span class="delimiter">&quot;</span></span>).rejectedValue
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>验证的第二阶段发生在您调用 <a href="../ref/Domain%20Classes/validate.html">validate</a> 或 <a href="../ref/Domain%20Classes/save.html">save</a> 时。 这是Grails将根据您定义的链接验证绑定值的时间：<a href="../ref/Domain%20Classes/constraints.html">constraints</a>。 例如，默认情况下，<a href="../ref/Domain%20Classes/save.html">save</a>方法在执行之前调用  <code>validate</code> ，使您可以编写如下代码：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="keyword">if</span> (user.save()) {
    <span class="keyword">return</span> user
}
<span class="keyword">else</span> {
    user.errors.allErrors.each {
        println <span class="local-variable">it</span>
    }
}</code></pre>
</div>
</div>
</div>


<h2 id="sharingConstraints">12.3 类之间的共享约束</h2>

<div class='contribute-btn'>
    <button type='button' class='btn btn-default' onclick='window.location.href="https://github.com/grails/grails-doc/edit/master/src/en/guide/validation/sharingConstraints.adoc"'>
        <i class='fa fa-pencil-square-o'></i> Improve this doc
    </button>
</div>


<div class="paragraph">
<p>Grails中常见的模式是使用 <a href="theWebLayer.html#commandObjects">Command Objects</a> 或验证用户提交的数据，然后将命令对象的属性复制到相关的域类。 这通常意味着您的命令对象和域类共享属性及其约束。 您可以手动在这两者之间复制并粘贴约束，但这是一种非常容易出错的方法。 而是使用Grails的全局约束和导入机制。</p>
</div>
<div class="sect2">
<h3 id="_全球约束">全球约束</h3>
<div class="paragraph">
<p>除了在域类，命令对象和<a href="#validationNonDomainAndCommandObjectClasses">other validateable classes</a>中定义约束之外，您还可以在 <code>grails-app/conf/application.groovy</code> 中定义它们：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">grails.gorm.default.constraints = {
    <span class="string"><span class="delimiter">'</span><span class="content">*</span><span class="delimiter">'</span></span>(<span class="key">nullable</span>: <span class="predefined-constant">true</span>, <span class="key">size</span>: <span class="integer">1</span>..<span class="integer">20</span>)
    myShared(<span class="key">nullable</span>: <span class="predefined-constant">false</span>, <span class="key">blank</span>: <span class="predefined-constant">false</span>)
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>这些约束没有附加到任何特定的类，但是可以从任何可验证的类中轻松引用它们：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="type">class</span> <span class="class">User</span> {
    ...

    static constraints = {
        login <span class="key">shared</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">myShared</span><span class="delimiter">&quot;</span></span>
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>请注意 <code>shared</code> 参数的使用，其值是 <code>grails.gorm.default.constraints</code> 中定义的约束之一的名称。 尽管有配置设置的名称，但是您可以从任何可验证的类（例如命令对象）中引用这些共享约束。</p>
</div>
<div class="paragraph">
<p>'*'约束是一种特殊情况：这意味着关联的约束（在上面的示例中为 <code>nullable</code> 和 <code>size</code> ）将应用于所有可验证类中的所有属性。 这些默认值可以由可验证类中声明的约束覆盖。</p>
</div>
</div>
<div class="sect2">
<h3 id="_导入约束">导入约束</h3>
<div class="paragraph">
<p>Grails 2引入了共享约束的另一种方法，该方法允许您将一组约束从一个类导入另一个类。</p>
</div>
<div class="paragraph">
<p>假设您有一个像这样的域类</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="type">class</span> <span class="class">User</span> {
    <span class="predefined-type">String</span> firstName
    <span class="predefined-type">String</span> lastName
    <span class="predefined-type">String</span> passwordHash

    <span class="directive">static</span> constraints = {
        firstName <span class="key">blank</span>: <span class="predefined-constant">false</span>, <span class="key">nullable</span>: <span class="predefined-constant">false</span>
        lastName <span class="key">blank</span>: <span class="predefined-constant">false</span>, <span class="key">nullable</span>: <span class="predefined-constant">false</span>
        passwordHash <span class="key">blank</span>: <span class="predefined-constant">false</span>, <span class="key">nullable</span>: <span class="predefined-constant">false</span>
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>然后，您要创建一个命令对象 <code>UserCommand</code>，该对象共享域类的某些属性和相应的约束。 您可以使用 <code>importFrom()</code> 方法执行此操作：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="type">class</span> <span class="class">UserCommand</span> {
    <span class="predefined-type">String</span> firstName
    <span class="predefined-type">String</span> lastName
    <span class="predefined-type">String</span> password
    <span class="predefined-type">String</span> confirmPassword

    <span class="directive">static</span> constraints = {
        importFrom User

        password <span class="key">blank</span>: <span class="predefined-constant">false</span>, <span class="key">nullable</span>: <span class="predefined-constant">false</span>
        confirmPassword <span class="key">blank</span>: <span class="predefined-constant">false</span>, <span class="key">nullable</span>: <span class="predefined-constant">false</span>
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>这将从 <code>User</code> 域类中导入所有约束，并将它们应用于 <code>UserCommand</code> 。 导入将忽略源类（ <code>User</code> ）中任何在导入类（ <code>UserCommand</code> ）中没有相应属性的约束。 在上面的示例中，仅将&#8217;firstName&#8217;和&#8217;lastName&#8217;约束导入 <code>UserCommand</code> ，因为这是两个类共享的唯一属性。</p>
</div>
<div class="paragraph">
<p>如果要控制导入哪些约束，请使用 <code>include</code> 和 <code>exclude</code> 参数。 这两个都接受与源约束中的属性名称匹配的简单或正则表达式字符串列表。 因此，例如，如果您只想导入"lastName"约束，则可以使用：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">...
static constraints = {
    importFrom User, <span class="key">include</span>: [<span class="string"><span class="delimiter">&quot;</span><span class="content">lastName</span><span class="delimiter">&quot;</span></span>]
    ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>或者如果您想要所有以&#8217;Name&#8217;结尾的约束：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">...
static constraints = {
    importFrom User, <span class="key">include</span>: [<span class="regexp"><span class="delimiter">/</span><span class="content">.*Name</span><span class="delimiter">/</span></span>]
    ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>当然， <code>exclude</code> 做相反的操作，指定不应导入哪些约束。</p>
</div>
</div>

<a name="10.3 &#23545;&#23458;&#25143;&#31471;&#30340;&#39564;&#35777;"><!-- Legacy link --></a>
<h2 id="validationOnTheClient">12.4 对客户端的验证</h2>

<div class='contribute-btn'>
    <button type='button' class='btn btn-default' onclick='window.location.href="https://github.com/grails/grails-doc/edit/master/src/en/guide/validation/validationOnTheClient.adoc"'>
        <i class='fa fa-pencil-square-o'></i> Improve this doc
    </button>
</div>


<div class="sect3">
<h4 id="_显示错误">显示错误</h4>
<div class="paragraph">
<p>通常，如果遇到验证错误，则将您重定向回视图以进行渲染。 到达那里后，您需要某种方式来显示错误。 Grails支持用于处理错误的丰富标签集。 要将错误显示为列表，可以使用 <a href="http://gsp.grails.org/latest/ref/Tags/renderErrors.html">renderErrors</a>：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;g:renderErrors</span> <span class="attribute-name">bean</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">${user}</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>如果需要更多控制，可以使用<a href="http://gsp.grails.org/latest/ref/Tags/hasErrors.html">hasErrors</a>和<a href="http://gsp.grails.org/latest/ref/Tags/eachError.html">eachError</a>：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;g:hasErrors</span> <span class="attribute-name">bean</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">${user}</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
  <span class="tag">&lt;ul&gt;</span>
   <span class="tag">&lt;g:eachError</span> <span class="attribute-name">var</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">err</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">bean</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">${user}</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
       <span class="tag">&lt;li&gt;</span>${err}<span class="tag">&lt;/li&gt;</span>
   <span class="tag">&lt;/g:eachError&gt;</span>
  <span class="tag">&lt;/ul&gt;</span>
<span class="tag">&lt;/g:hasErrors&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_突出显示错误">突出显示错误</h4>
<div class="paragraph">
<p>当错误输入字段时，使用红色框或某些指示符突出显示通常很有用。 也可以通过将<a href="http://gsp.grails.org/latest/ref/Tags/hasErrors.html">hasErrors</a>作为方法调用来实现。 例如：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;div</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">'</span><span class="content">value ${hasErrors(bean:user,field:</span><span class="delimiter">'</span></span><span class="attribute-name">login</span><span class="error">'</span><span class="error">,</span><span class="error">'</span><span class="attribute-name">errors</span><span class="error">'</span><span class="error">)</span><span class="error">}</span><span class="error">'</span><span class="tag">&gt;</span>
   <span class="tag">&lt;input</span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">text</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">login</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">${fieldValue(bean:user,field:'login')}</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
<span class="tag">&lt;/div&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>该代码检查 <code>user</code> bean的 <code>login</code> 字段是否有错误，如果有，则向 <code>div</code> 添加一个 <code>errors</code> CSS类，从而允许您使用CSS规则突出显示 <code>div</code>。</p>
</div>
</div>
<div class="sect3">
<h4 id="_检索输入值">检索输入值</h4>
<div class="paragraph">
<p>每个错误实际上是Spring中<a href="https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/validation/FieldError.html">FieldError</a>类的一个实例，该类在其中保留了原始输入值。 这很有用，因为您可以使用错误对象来恢复用户使用 <a href="../ref/Tags/fieldValue.html">fieldValue</a> 标记输入的值：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;input</span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">text</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">login</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">${fieldValue(bean:user,field:'login')}</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>此代码将检查 <code>User</code>  Bean中是否存在现有的 <code>FieldError</code> ，以及是否获得 <code>login</code> 字段的原始输入值。</p>
</div>
</div>

<a name="10.4 &#39564;&#35777;&#21644;&#22269;&#38469;&#21270;"><!-- Legacy link --></a>
<h2 id="validationAndInternationalization">12.5 验证和国际化</h2>

<div class='contribute-btn'>
    <button type='button' class='btn btn-default' onclick='window.location.href="https://github.com/grails/grails-doc/edit/master/src/en/guide/validation/validationAndInternationalization.adoc"'>
        <i class='fa fa-pencil-square-o'></i> Improve this doc
    </button>
</div>


<div class="paragraph">
<p>关于Grails中的错误，要注意的另一重要事项是，错误消息未在任何地方进行硬编码。 Spring中的<a href="https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/validation/FieldError.html">FieldError</a>类使用Grails的 <a href="i18n.html">i18n</a>支持来解析消息束中的消息。</p>
</div>
<div class="sect3">
<h4 id="_约束和消息代码">约束和消息代码</h4>
<div class="paragraph">
<p>编码本身是由惯例规定的。 例如，考虑一下我们前面讨论的约束：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="keyword">package</span> com.mycompany.myapp

<span class="type">class</span> <span class="class">User</span> {
    ...

    static constraints = {
        login <span class="key">size</span>: <span class="integer">5</span>..<span class="integer">15</span>, <span class="key">blank</span>: <span class="predefined-constant">false</span>, <span class="key">unique</span>: <span class="predefined-constant">true</span>
        password <span class="key">size</span>: <span class="integer">5</span>..<span class="integer">15</span>, <span class="key">blank</span>: <span class="predefined-constant">false</span>
        email <span class="key">email</span>: <span class="predefined-constant">true</span>, <span class="key">blank</span>: <span class="predefined-constant">false</span>
        age <span class="key">min</span>: <span class="integer">18</span>
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>如果违反了约束，Grails将按照约定查找消息代码：</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Constraint</th>
<th class="tableblock halign-left valign-top">Error Code</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../ref/Constraints/blank.html">blank</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>className.propertyName.blank</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../ref/Constraints/creditCard.html">creditCard</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>className.propertyName.creditCard.invalid</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../ref/Constraints/email.html">email</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>className.propertyName.email.invalid</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../ref/Constraints/inList.html">inList</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>className.propertyName.not.inList</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../ref/Constraints/matches.html">matches</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>className.propertyName.matches.invalid</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../ref/Constraints/max.html">max</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>className.propertyName.max.exceeded</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../ref/Constraints/maxSize.html">maxSize</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>className.propertyName.maxSize.exceeded</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../ref/Constraints/min.html">min</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>className.propertyName.min.notmet</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../ref/Constraints/minSize.html">minSize</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>className.propertyName.minSize.notmet</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../ref/Constraints/notEqual.html">notEqual</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>className.propertyName.notEqual</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../ref/Constraints/nullable.html">nullable</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>className.propertyName.nullable</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../ref/Constraints/range.html">range</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>className.propertyName.range.toosmall</code> or <code>className.propertyName.range.toobig</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../ref/Constraints/size.html">size</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>className.propertyName.size.toosmall</code> or <code>className.propertyName.size.toobig</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../ref/Constraints/unique.html">unique</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>className.propertyName.unique</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../ref/Constraints/url.html">url</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>className.propertyName.url.invalid</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../ref/Constraints/validator.html">validator</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>classname.propertyName.</code> + String returned by Closure</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>在 <code>blank</code> 约束的情况下，它将是 <code>user.login.blank</code>，因此您需要在 <code>grails-app/i18n/messages.properties</code> 文件中输入如下消息：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">user.login.blank=Your login name must be specified!</code></pre>
</div>
</div>
<div class="paragraph">
<p>在有或没有包的情况下都查找类名，其中以打包版本优先。 因此，例如，将在 <code>user.login.blank</code> 之前使用 <code>com.mycompany.myapp.User.login.blank</code>。 这允许您的域类消息代码与插件冲突的情况。</p>
</div>
<div class="paragraph">
<p>有关哪些约束适用于哪些代码的参考，请参阅每个约束的参考指南（例如 <a href="../ref/Constraints/blank.html">blank</a>）</p>
</div>
</div>
<div class="sect3">
<h4 id="_显示讯息">显示讯息</h4>
<div class="paragraph">
<p><a href="http://gsp.grails.org/latest/ref/Tags/renderErrors.html">renderErrors</a>标签将使用<a href="http://gsp.grails.org/latest/ref/Tags/message.html">message</a>标签为您自动查找消息。 如果需要更多的渲染控制，可以自己处理：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;g:hasErrors</span> <span class="attribute-name">bean</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">${user}</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
  <span class="tag">&lt;ul&gt;</span>
   <span class="tag">&lt;g:eachError</span> <span class="attribute-name">var</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">err</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">bean</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">${user}</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
       <span class="tag">&lt;li&gt;</span><span class="tag">&lt;g:message</span> <span class="attribute-name">error</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">${err}</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span><span class="tag">&lt;/li&gt;</span>
   <span class="tag">&lt;/g:eachError&gt;</span>
  <span class="tag">&lt;/ul&gt;</span>
<span class="tag">&lt;/g:hasErrors&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>在此示例中，在<a href="http://gsp.grails.org/latest/ref/Tags/eachError.html">eachError</a>标记的正文中，我们结合使用<a href="http://gsp.grails.org/latest/ref/Tags/message.html">message</a>标记及其 <code>error</code> 参数来读取给定错误的消息。</p>
</div>
</div>

<a name="10.5 &#39564;&#35777;&#38750;&#22495;&#21644;&#21629;&#20196;&#23545;&#35937;&#31867;"><!-- Legacy link --></a>
<h2 id="validationNonDomainAndCommandObjectClasses">12.6 将验证应用于其他类</h2>

<div class='contribute-btn'>
    <button type='button' class='btn btn-default' onclick='window.location.href="https://github.com/grails/grails-doc/edit/master/src/en/guide/validation/validationNonDomainAndCommandObjectClasses.adoc"'>
        <i class='fa fa-pencil-square-o'></i> Improve this doc
    </button>
</div>


<div class="paragraph">
<p><a href="GORM.html">Domain classes</a> 和<a href="theWebLayer.html#commandObjects">Command Objects</a>默认情况下支持验证。 通过在类中定义静态的 <code>constraints</code> 属性（如上所述），然后将其告知框架，可以使其他类可验证。 应用程序向框架注册可验证的类很重要。 仅定义 <code>constraints</code> 属性是不够的。</p>
</div>
<div class="sect3">
<h4 id="_可验证的特征">可验证的特征</h4>
<div class="paragraph">
<p>定义静态 <code>constraints</code> 属性并实现 <a href="http://docs.grails.org/4.0.0/api/grails/validation/Validateable.html">Validateable</a> 特征的类将是可验证的。 考虑以下示例：</p>
</div>
<div class="listingblock">
<div class="title">src/main/groovy/com/mycompany/myapp/User.groovy</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="keyword">package</span> com.mycompany.myapp

<span class="keyword">import</span> <span class="include">grails.validation.Validateable</span>

<span class="type">class</span> <span class="class">User</span> <span class="directive">implements</span> Validateable {
    ...

    static constraints = {
        login <span class="key">size</span>: <span class="integer">5</span>..<span class="integer">15</span>, <span class="key">blank</span>: <span class="predefined-constant">false</span>, <span class="key">unique</span>: <span class="predefined-constant">true</span>
        password <span class="key">size</span>: <span class="integer">5</span>..<span class="integer">15</span>, <span class="key">blank</span>: <span class="predefined-constant">false</span>
        email <span class="key">email</span>: <span class="predefined-constant">true</span>, <span class="key">blank</span>: <span class="predefined-constant">false</span>
        age <span class="key">min</span>: <span class="integer">18</span>
    }
}</code></pre>
</div>
</div>
<div class="sect4">
<h5 id="_程序访问">程序访问</h5>
<div class="paragraph">
<p>访问可验证对象上的约束略有不同。 您可以通过访问类的 <code>constraintsMap</code> 静态属性，在另一个上下文中以编程方式访问命令对象的约束。 该属性是 <code>Map &lt;String，<a href="http://docs.grails.org/4.0.0/api/grails/validation/ConstrainedProperty.html">ConstrainedProperty</a>&gt;</code> 的实例。</p>
</div>
<div class="paragraph">
<p>在上面的示例中，访问 <code>User.constraintsMap.login.blank</code> 将产生 <code>false</code> ，而 <code>User.constraintsMap.login.unique</code> 将产生 <code>true</code> 。</p>
</div>
</div>
</div>


                <div style="clear:both;margin-top:15px;"></div>
                
                    <div class="toc-item prev-left"><a href="../guide/async.html">&lt;&lt; <strong>11</strong><span>&#24322;&#27493;&#32534;&#31243;</span></a></div>
                
                    <div class="toc-item next-right"><a href="../guide/services.html"><strong>13</strong><span>&#26381;&#21153;&#23618;</span> >></a></div>
                
                <div style="clear:both"></div>
            </div>
        </td>
        <td id="col2">
            <div class="local clearfix">
                <div class="local-title">
                    <a href="../guide/index.html" target="mainFrame">Quick Reference</a>
                    <span class="toggle">(<a href="#" onclick="localToggle(); return false;">hide</a>)</span>
                </div>
                <div class="menu">
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Command Line</h1><div class="menu-sub">
                        
                            <div class="menu-item"><a href="../ref/Command%20Line/Usage.html">Usage</a></div>
                            
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/bug-report.html">bug-report</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/clean.html">clean</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/compile.html">compile</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/console.html">console</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/create-app.html">create-app</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/create-command.html">create-command</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/create-controller.html">create-controller</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/create-domain-class.html">create-domain-class</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/create-functional-test.html">create-functional-test</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/create-hibernate-cfg-xml.html">create-hibernate-cfg-xml</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/create-integration-test.html">create-integration-test</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/create-interceptor.html">create-interceptor</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/create-plugin.html">create-plugin</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/create-profile.html">create-profile</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/create-script.html">create-script</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/create-service.html">create-service</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/create-taglib.html">create-taglib</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/create-unit-test.html">create-unit-test</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/dependency-report.html">dependency-report</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/docs.html">docs</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/generate-all.html">generate-all</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/generate-controller.html">generate-controller</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/generate-views.html">generate-views</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/help.html">help</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/install-templates.html">install-templates</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/list-plugins.html">list-plugins</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/list-profiles.html">list-profiles</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/package-plugin.html">package-plugin</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/package.html">package</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/plugin-info.html">plugin-info</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/profile-info.html">profile-info</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/run-app.html">run-app</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/run-command.html">run-command</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/run-script.html">run-script</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/schema-export.html">schema-export</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/shell.html">shell</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/stats.html">stats</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/stop-app.html">stop-app</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/test-app.html">test-app</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/war.html">war</a>
                            </div>
                            
                            </div>
                    </div>
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Constraints</h1><div class="menu-sub">
                        
                            <div class="menu-item"><a href="../ref/Constraints/Usage.html">Usage</a></div>
                            
                            
                            <div class="menu-item"><a href="../ref/Constraints/attributes.html">attributes</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Constraints/bindable.html">bindable</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Constraints/blank.html">blank</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Constraints/creditCard.html">creditCard</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Constraints/email.html">email</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Constraints/inList.html">inList</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Constraints/matches.html">matches</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Constraints/max.html">max</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Constraints/maxSize.html">maxSize</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Constraints/min.html">min</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Constraints/minSize.html">minSize</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Constraints/notEqual.html">notEqual</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Constraints/nullable.html">nullable</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Constraints/range.html">range</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Constraints/scale.html">scale</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Constraints/size.html">size</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Constraints/unique.html">unique</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Constraints/url.html">url</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Constraints/validator.html">validator</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Constraints/widget.html">widget</a>
                            </div>
                            
                            </div>
                    </div>
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Controllers</h1><div class="menu-sub">
                        
                            <div class="menu-item"><a href="../ref/Controllers/Usage.html">Usage</a></div>
                            
                            
                            <div class="menu-item"><a href="../ref/Controllers/actionName.html">actionName</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/allowedMethods.html">allowedMethods</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/bindData.html">bindData</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/chain.html">chain</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/controllerName.html">controllerName</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/defaultAction.html">defaultAction</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/errors.html">errors</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/flash.html">flash</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/forward.html">forward</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/grailsApplication.html">grailsApplication</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/hasErrors.html">hasErrors</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/namespace.html">namespace</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/params.html">params</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/redirect.html">redirect</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/render.html">render</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/request.html">request</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/respond.html">respond</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/response.html">response</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/responseFormats.html">responseFormats</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/scope.html">scope</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/servletContext.html">servletContext</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/session.html">session</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/withForm.html">withForm</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/withFormat.html">withFormat</a>
                            </div>
                            
                            </div>
                    </div>
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Database Mapping</h1><div class="menu-sub">
                        
                            <div class="menu-item"><a href="../ref/Database%20Mapping/Usage.html">Usage</a></div>
                            
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/autoImport.html">autoImport</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/autoTimestamp.html">autoTimestamp</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/batchSize.html">batchSize</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/cache.html">cache</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/cascade.html">cascade</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/column.html">column</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/comment.html">comment</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/discriminator.html">discriminator</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/dynamicInsert.html">dynamicInsert</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/dynamicUpdate.html">dynamicUpdate</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/fetch.html">fetch</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/id.html">id</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/ignoreNotFound.html">ignoreNotFound</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/indexColumn.html">indexColumn</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/insertable.html">insertable</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/joinTable.html">joinTable</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/lazy.html">lazy</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/order.html">order</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/sort.html">sort</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/table.html">table</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/type.html">type</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/updateable.html">updateable</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/version.html">version</a>
                            </div>
                            
                            </div>
                    </div>
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Domain Classes</h1><div class="menu-sub">
                        
                            <div class="menu-item"><a href="../ref/Domain%20Classes/Usage.html">Usage</a></div>
                            
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/addTo.html">addTo</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/attach.html">attach</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/belongsTo.html">belongsTo</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/clearErrors.html">clearErrors</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/constraints.html">constraints</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/count.html">count</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/countBy.html">countBy</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/createCriteria.html">createCriteria</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/delete.html">delete</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/discard.html">discard</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/embedded.html">embedded</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/errors.html">errors</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/executeQuery.html">executeQuery</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/executeUpdate.html">executeUpdate</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/exists.html">exists</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/fetchMode.html">fetchMode</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/find.html">find</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/findAll.html">findAll</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/findAllBy.html">findAllBy</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/findAllWhere.html">findAllWhere</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/findBy.html">findBy</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/findOrCreateBy.html">findOrCreateBy</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/findOrCreateWhere.html">findOrCreateWhere</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/findOrSaveBy.html">findOrSaveBy</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/findOrSaveWhere.html">findOrSaveWhere</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/findWhere.html">findWhere</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/first.html">first</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/get.html">get</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/getAll.html">getAll</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/getDirtyPropertyNames.html">getDirtyPropertyNames</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/getPersistentValue.html">getPersistentValue</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/hasErrors.html">hasErrors</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/hasMany.html">hasMany</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/hasOne.html">hasOne</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/ident.html">ident</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/instanceOf.html">instanceOf</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/isAttached.html">isAttached</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/isDirty.html">isDirty</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/last.html">last</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/list.html">list</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/listOrderBy.html">listOrderBy</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/load.html">load</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/lock.html">lock</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/mapWith.html">mapWith</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/mappedBy.html">mappedBy</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/mapping.html">mapping</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/merge.html">merge</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/namedQueries.html">namedQueries</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/properties.html">properties</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/read.html">read</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/refresh.html">refresh</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/removeFrom.html">removeFrom</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/save.html">save</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/transients.html">transients</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/validate.html">validate</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/where.html">where</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/whereAny.html">whereAny</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/withCriteria.html">withCriteria</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/withNewSession.html">withNewSession</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/withSession.html">withSession</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/withTransaction.html">withTransaction</a>
                            </div>
                            
                            </div>
                    </div>
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Plug-ins</h1><div class="menu-sub">
                        
                            <div class="menu-item"><a href="../ref/Plug-ins/Usage.html">Usage</a></div>
                            
                            
                            <div class="menu-item"><a href="../ref/Plug-ins/URL%20mappings.html">URL mappings</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Plug-ins/codecs.html">codecs</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Plug-ins/controllers.html">controllers</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Plug-ins/core.html">core</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Plug-ins/dataSource.html">dataSource</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Plug-ins/domainClasses.html">domainClasses</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Plug-ins/hibernate.html">hibernate</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Plug-ins/i18n.html">i18n</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Plug-ins/logging.html">logging</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Plug-ins/scaffolding.html">scaffolding</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Plug-ins/services.html">services</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Plug-ins/servlets.html">servlets</a>
                            </div>
                            
                            </div>
                    </div>
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Services</h1><div class="menu-sub">
                        
                            <div class="menu-item"><a href="../ref/Services/Usage.html">Usage</a></div>
                            
                            
                            <div class="menu-item"><a href="../ref/Services/scope.html">scope</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Services/transactional.html">transactional</a>
                            </div>
                            
                            </div>
                    </div>
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Servlet API</h1><div class="menu-sub">
                        
                            
                            <div class="menu-item"><a href="../ref/Servlet%20API/request.html">request</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Servlet%20API/response.html">response</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Servlet%20API/servletContext.html">servletContext</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Servlet%20API/session.html">session</a>
                            </div>
                            
                            </div>
                    </div>
                    
                </div>
            </div>
        </td>
    </tr>
</table>

<div id="footer">
    Copies of this document may be made for your own use and for distribution to others, provided that you do not charge any fee for such copies and further provided that each copy contains this Copyright Notice, whether distributed in print or electronically.
    
</div>

<script type="text/javascript" src="../js/docs.js"></script>

</body>
</html>
